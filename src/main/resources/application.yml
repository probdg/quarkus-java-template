# ============================================
# Application Configuration
# ============================================
quarkus:
  application:
    name: quarkus-template
    version: ${project.version:1.0.0-SNAPSHOT}
  
  # ============================================
  # HTTP Configuration
  # ============================================
  http:
    port: ${PORT:8080}
    cors:
      ~: true
      origins: "*"
      methods: "GET,POST,PUT,DELETE,OPTIONS,PATCH"
      headers: "*"
    
  # ============================================
  # Logging Configuration
  # ============================================
  log:
    level: INFO
    category:
      "com.example":
        level: DEBUG
    console:
      enable: true
      format: "%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n"
      json: false
  
  # ============================================
  # OpenAPI / Swagger Configuration
  # ============================================
  smallrye-openapi:
    path: /api/swagger
    info-title: Quarkus Template API
    info-version: ${quarkus.application.version}
    info-description: Production-ready Quarkus template with best practices
    info-contact-email: support@example.com
    info-contact-name: API Support
    info-license-name: Apache 2.0
    info-license-url: https://www.apache.org/licenses/LICENSE-2.0.html
  
  swagger-ui:
    always-include: true
    path: /api/swagger-ui
    title: Quarkus Template API Documentation
    
  # ============================================
  # Database Configuration
  # ============================================
  datasource:
    db-kind: postgresql
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:postgres}
    jdbc:
      url: ${DB_URL:jdbc:postgresql://localhost:5432/quarkus_template}
      max-size: 16
      min-size: 2
  
  hibernate-orm:
    database:
      generation: update
    log:
      sql: false
      format-sql: true
    jdbc:
      statement-batch-size: 20
  
  # ============================================
  # Redis Configuration
  # ============================================
  redis:
    hosts: ${REDIS_HOST:redis://localhost:6379}
    password: ${REDIS_PASSWORD:}
    database: ${REDIS_DATABASE:0}
    
  cache:
    enabled: true
  
  # ============================================
  # Kafka Configuration
  # ============================================
  
  # ============================================
  # Security Configuration
  # ============================================
  security:
    users:
      file:
        enabled: true
        plain-text: true
        users: users.properties
        roles: roles.properties
  
  smallrye-jwt:
    enabled: true
  
  # ============================================
  # Vault Configuration
  # ============================================
  vault:
    url: ${VAULT_URL:http://localhost:8200}
    authentication:
      userpass:
        username: ${VAULT_USERNAME:quarkus}
        password: ${VAULT_PASSWORD:quarkus}
    secret-config-kv-path: secret/application
    kv-secret-engine-version: 2
    
  # ============================================
  # Health Check Configuration
  # ============================================
  smallrye-health:
    root-path: /health
    liveness-path: /health/live
    readiness-path: /health/ready
    
  # ============================================
  # Metrics Configuration
  # ============================================
  micrometer:
    enabled: true
    export:
      prometheus:
        enabled: true
        path: /metrics

# ============================================
# Application Custom Properties
# ============================================
app:
  name: ${quarkus.application.name}
  version: ${quarkus.application.version}
  api:
    base-path: /api
  security:
    jwt:
      secret: ${JWT_SECRET:PLEASE_CHANGE_THIS_SECRET_IN_PRODUCTION}
      expiration: ${JWT_EXPIRATION:86400}
  
  # MinIO Configuration
  minio:
    endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
    access-key: ${MINIO_ACCESS_KEY:minioadmin}
    secret-key: ${MINIO_SECRET_KEY:minioadmin}
    bucket-name: ${MINIO_BUCKET:quarkus-bucket}
  
  # Rate Limiting Configuration
  rate-limit:
    capacity: ${RATE_LIMIT_CAPACITY:100}
    refill-duration-minutes: ${RATE_LIMIT_REFILL_MINUTES:1}
    ddos-threshold: ${DDOS_THRESHOLD:200}
    ddos-window-minutes: ${DDOS_WINDOW_MINUTES:1}

# ============================================
# Kafka Messaging Configuration
# ============================================
mp:
  messaging:
    incoming:
      greetings-in:
        connector: smallrye-kafka
        topic: greetings
        value:
          deserializer: org.apache.kafka.common.serialization.StringDeserializer
    
    outgoing:
      greetings-out:
        connector: smallrye-kafka
        topic: greetings
        value:
          serializer: org.apache.kafka.common.serialization.StringSerializer

kafka:
  bootstrap:
    servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
